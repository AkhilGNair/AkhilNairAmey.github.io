geom_vline(xintercept = means, col = c("red", "black"), lty = 2) +
geom_segment(y = label_height, yend = label_height, x = min(means), xend = max(means),
arrow = arrow(ends = "both", type = "closed", length = unit(0.25, units = "cm"))) +
geom_label(x = mean(means), y = label_height, label = "Shit white people\ninflict on POC") +
theme_minimal() +
xlim(-5, 8.5) +
xlab("Amount of shit x people have to put up with") + ylab("Density") +
theme(axis.text = element_blank())
n = 1e4
label_height = 0.35
tbl = tribble(
~`Person`, ~val                              ,
"yt"     , rnorm(n, 0.5, 1.3)                ,
"Non-yt" , rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(Person) %>%
summarise(mean = mean(val)) %>%
arrange(Person) %>%
`[[`("mean")
ggplot(tbl) +
geom_density(aes(x = val, fill = Person, col = NULL), lwd = 0, alpha = 0.6) +
geom_vline(xintercept = means, col = c("red", "black"), lty = 2) +
geom_segment(y = label_height, yend = label_height, x = min(means), xend = max(means),
arrow = arrow(ends = "both", type = "closed", length = unit(0.25, units = "cm"))) +
geom_label(x = mean(means), y = label_height, label = "Shit white people\ninflict on POC") +
theme_minimal() +
xlim(-5, 8.5) +
xlab("Amount of shit x people have to put up with") + ylab("Density") +
theme(axis.text = element_blank())
ggplot(tbl) +
geom_density(aes(x = val, fill = Person, col = NULL), lwd = 0, alpha = 0.6) +
geom_vline(xintercept = means, col = c("red", "black"), lty = 2) +
geom_segment(y = label_height, yend = label_height, x = min(means), xend = max(means),
arrow = arrow(ends = "both", type = "closed", length = unit(0.25, units = "cm"))) +
geom_text(x = mean(means), y = label_height, label = "Shit white people\ninflict on POC") +
theme_minimal() +
xlim(-5, 8.5) +
xlab("Amount of shit x people have to put up with") + ylab("Density") +
theme(axis.text = element_blank())
quiet_library = function(lib) {
suppressMessages(
library(
lib,
character.only = TRUE,
quietly = TRUE
)
)
}
setwd("~/blog/blogdown/")
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.5, 1.3)                ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 9,
height = 7
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "both",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "top"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
print(p_1)
dev.off()
system("lualatex ../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density-wrapper.tex")
system("convert -density 300 density-wrapper.pdf -quality 90 density.png")
system("rm density-wrapper.pdf density-wrapper.log density-wrapper.aux")
system("mv density.png ../../static/img/portfolio/avocados-on-racism/density3.png")
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.25, 1.3)                ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 9,
height = 7
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "end",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "top"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
?arrow
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.25, 1.3)                ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 9,
height = 7
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "last",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "top"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
print(p_1)
dev.off()
system("lualatex ../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density-wrapper.tex")
system("convert -density 300 density-wrapper.pdf -quality 90 density.png")
system("rm density-wrapper.pdf density-wrapper.log density-wrapper.aux")
system("mv density.png ../../static/img/portfolio/avocados-on-racism/density3.png")
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.25, 1.3)                ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 9,
height = 7
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "last",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "top"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
print(p_1)
dev.off()
system("lualatex ../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density-wrapper.tex")
system("convert -density 300 density-wrapper.pdf -quality 90 density.png")
system("rm density-wrapper.pdf density-wrapper.log density-wrapper.aux")
system("mv density.png ../../static/img/portfolio/avocados-on-racism/density3.png")
blogdown::serve_site()
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.25, 1.3)               ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 8.5,
height = 5.5
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "last",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "top"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
print(p_1)
dev.off()
system("lualatex ../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density-wrapper.tex")
system("convert -density 300 density-wrapper.pdf -quality 90 density.png")
system("rm density-wrapper.pdf density-wrapper.log density-wrapper.aux")
system("mv density.png ../../static/img/portfolio/avocados-on-racism/density3.png")
blogdown::serve_site()
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.25, 1.3)               ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 8.5,
height = 5.5
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "last",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot\n",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "top"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
print(p_1)
dev.off()
system("lualatex ../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density-wrapper.tex")
system("convert -density 300 density-wrapper.pdf -quality 90 density.png")
system("rm density-wrapper.pdf density-wrapper.log density-wrapper.aux")
system("mv density.png ../../static/img/portfolio/avocados-on-racism/density3.png")
blogdown::serve_site()
libs = c("tikzDevice", "ggplot2", "purrr", "tidyr", "dplyr")
sapply(libs, quiet_library)
n = 50
label_height = 0.3
colours = c("steelblue", "black", "red", "green")
tbl = tibble::tribble(
~`$x$`            , ~val                              ,
"White people"    , rnorm(n, 0.25, 1.3)               ,
"People of colour", rgamma(n, shape = 7.5, rate = 2.6)
) %>% unnest(val)
means = tbl %>%
group_by(`$x$`) %>%
summarise(mean = mean(val)) %>%
arrange(`$x$`)
tikzDevice::tikz(
"../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density.tex",
width = 8.5,
height = 5.5
)
p_1 = ggplot(tbl) +
geom_density(
aes(x = val, fill = `$x$`, col = NULL),
lwd = 0, alpha = 0.6
) +
geom_vline(
data = means,
aes(xintercept = mean, col = `$x$`),
lty = 2
) +
geom_segment(
y = label_height, yend = label_height,
x = min(means$mean), xend = max(means$mean),
arrow = arrow(
ends = "last",
type = "closed",
length = unit(0.25, units = "cm")
)
) +
geom_label(
x = mean(means$mean), y = label_height,
label = "Shit white people\ninflict on POC"
) +
theme_minimal() +
xlim(-4, 7) +
labs(
title = "Racism", subtitle = "Now in an easy to understand plot\n",
x = "Amount of shit $x$ have to put up with",
y = "Density"
) +
theme(
plot.title = element_text(size = 20),
plot.subtitle = element_text(size = 16),
axis.title = element_text(size = 14),
axis.text = element_blank(),
legend.title = element_text(size = 14),
legend.text = element_text(size = 12),
legend.position = "bottom"
) +
scale_fill_manual(values = colours) +
scale_color_manual(values = colours, guide = FALSE)
print(p_1)
dev.off()
system("lualatex ../../static/portfolio/2017-04-09-avocados-on-racism_files/tex/density-wrapper.tex")
system("convert -density 300 density-wrapper.pdf -quality 90 density.png")
system("rm density-wrapper.pdf density-wrapper.log density-wrapper.aux")
system("mv density.png ../../static/img/portfolio/avocados-on-racism/density3.png")
blogdown::serve_site()
blogdown::serve_site()
